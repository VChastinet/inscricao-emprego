<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header" data-background-color="blue">
                    <h4 class="title">Inscrição de Emprego</h4>
                    <p class="category">Preencha seus dados</p>
                </div>
                <div class="card-content">
                    <form [formGroup]="inscricaoForm">
                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label class="control-label">Nome*</label>
                                    <input type="text" class="form-control" formControlName="nome">
                                    <div class="form-control-feedback text-danger"
                                         *ngIf="inscricaoForm.get('nome').touched && inscricaoForm.get('nome').errors">
                                        {{ inscricaoForm.getFirstErrorFrom('nome').replace('%s', 'Nome') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="control-label">CPF*</label>
                                    <input type="text" class="form-control" formControlName="cpf" [textMask]="{mask: cpfMask}">
                                    <div class="form-control-feedback text-danger"
                                         *ngIf="inscricaoForm.get('cpf').touched && inscricaoForm.get('cpf').errors">
                                        {{ inscricaoForm.getFirstErrorFrom('cpf').replace('%s', 'CPF') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label">E-mail</label>
                                    <input type="email" class="form-control" formControlName="email">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Celular</label>
                                    <input type="text" class="form-control" formControlName="celular" [textMask]="{mask: celularMask}">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Telefone</label>
                                    <input type="text" class="form-control" formControlName="telefone" [textMask]="{mask: telefoneMask}">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group" style="margin-bottom: 0em !important;">
                                    <label class="control-label">Habilidades Técnicas</label>
                                </div>
                                <div class="form-group input-group">
                                    <input type="text" class="form-control" disabled>
                                    <span class="input-group-btn"><button class="btn btn-warning" type="button" (click)="openModal(modalHabTecnica)"><i class="fa fa-plus"></i></button></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Link</label>
                                    <input type="text" class="form-control" formControlName="link">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group" style="margin-bottom: 0em !important;">
                                    <label class="control-label">Experiência Profissional</label>
                                </div>
                                <div class="form-group input-group">
                                    <input type="text" formControlName="experienciaProfissional" class="form-control" disabled>
                                    <span class="input-group-btn"><button class="btn btn-warning" type="button" (click)="openModal(modalExpProfissional)"><i class="fa fa-plus"></i></button></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="control-label">Oportunidade</label>
                                    <input type="text" class="form-control" formControlName="oportunidade">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label" for="anexo">Anexo</label>
                                    <input type="file" class="file-loading" id="anexo" formControlName="anexo">
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-success pull-right mt-1" (click)="inscrever()">Inscrever-se</button>
                        <p><br/></p>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Modal de Habilidades técnicas -->
<ng-template #modalHabTecnica let-c="close">
    <div class="modal-header">
        <h4 class="modal-title">Habilidade Técnica</h4>
        <button type="button" class="btn btn-secondary" (click)="c('Close')">Fechar</button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <div class="card-block">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Descrição" />
                </div>

                <div class="form-group">
                    <button type="button" class="btn btn-primary col-2 pull-right">Salvar</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<!--Modal de experiência profissional -->
<ng-template #modalExpProfissional let-c="close">
    <div class="modal-header">
        <h4 class="modal-title">Experiência Profissional</h4>
        <button type="button" class="btn btn-secondary" (click)="c('Close')">Fechar</button>
    </div>
    <div class="modal-body" [formGroup]="exProfissionalForm">
        <div class="form-group">
            <div class="card-block">
                <div class="form-group">
                    <input type="text" formControlName="cargo" class="form-control" placeholder="Cargo" />
                    <div class="form-control-feedback has-danger text-danger"
                         *ngIf="exProfissionalForm.get('cargo').touched && exProfissionalForm.get('cargo').errors
                        && exProfissionalForm.get('cargo').enabled">
                        {{ exProfissionalForm.getFirstErrorFrom('cargo').replace('%s', 'Cargo') }}
                    </div>
                </div>

                <div class="form-group">
                    <textarea class="form-control" formControlName="descricao" rows="3" placeholder="Descrição"></textarea>
                    <div class="form-control-feedback has-danger text-danger"
                         *ngIf="exProfissionalForm.get('descricao').touched && exProfissionalForm.get('descricao').errors
                        && exProfissionalForm.get('descricao').enabled">
                        {{ exProfissionalForm.getFirstErrorFrom('descricao').replace('%s', 'Descrição') }}
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-3">
                            <input class="form-control" formControlName="dataInicio" [textMask]="{mask: dateMask}" id="form_dti" type="text" placeholder="Data ínicio">
                            <div class="form-control-feedback has-danger text-danger"
                                 *ngIf="exProfissionalForm.get('dataInicio').touched && exProfissionalForm.get('dataInicio').errors
                                && exProfissionalForm.get('dataInicio').enabled">
                                {{ exProfissionalForm.getFirstErrorFrom('dataInicio').replace('%s', 'Data ínicio') }}
                            </div>
                        </div>
                        <div class="col-3">
                            <input class="form-control" formControlName="dataFim" [textMask]="{mask: dateMask}" id="form_dtf" type="text" placeholder="Data final">
                            <div class="form-control-feedback has-danger text-danger"
                                 *ngIf="exProfissionalForm.get('dataFim').touched && exProfissionalForm.get('dataFim').errors
                                && exProfissionalForm.get('dataFim').enabled">
                                {{ exProfissionalForm.getFirstErrorFrom('dataFim').replace('%s', 'Data fim') }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input type="checkbox" formControlName="trabalhoAtual" class="form-check-input">
                            Trabalho atual
                        </label>
                    </div>
                </div>
            </div>

            <div class="card-block">
                <div class="form-group">
                    <button type="button" class="btn btn-primary col-2 pull-right" (click)="salvarExpProfissional()" >Salvar</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>